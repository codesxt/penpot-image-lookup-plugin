penpot.ui.open("Image Lookup Plugin",`?theme=${penpot.theme}`,{width:450,height:750});penpot.on("themechange",e=>{a({type:"theme",content:e})});function a(e){penpot.ui.sendMessage(e)}penpot.ui.onMessage(async e=>{if(e.type==="import-photo"){const{photo:p,size:n}=e.data,i=p.src[n],t=await penpot.uploadMediaUrl("imagefile",i),o=penpot.createRectangle();o.boardX=penpot.viewport.center.x-t.width/2,o.boardY=penpot.viewport.center.y-t.height/2,o.resize(t.width,t.height),o.fills=[{fillOpacity:1,fillImage:{...t,keepApectRatio:!0}}],o.name="Photo by "+p.photographer}});
